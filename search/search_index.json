{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Homelab DevOps Overview","text":"<p> Golden Path \u2014 lint \u2192 plan \u2192 approve \u2192 apply \u2192 configure \u2192 smoke across AWS &amp; homelab (Proxmox/NFS). Built with Terraform \u00b7 Ansible \u00b7 Docker \u00b7 GitHub Actions \u00b7 Jenkins \u00b7 MkDocs.</p> <p> </p>"},{"location":"#pipeline-at-a-glance","title":"Pipeline at a glance","text":"<p>```mermaid flowchart TD   A[Developer Laptop] --&gt;|Git Push| B[GitHub Actions / Jenkins]   B --&gt;|Static Checks| C[pre-commit \u00b7 TFLint \u00b7 Checkov \u00b7 Ansible-lint \u00b7 Hadolint]   B --&gt;|Plan| D[Terraform Plan]   D --&gt;|Manual Gate| E[Approve]   E --&gt;|Apply| F[Terraform Apply]   F --&gt;|Configure| G[Ansible Playbooks]   G --&gt;|Deploy/Proxy| H[Docker Reverse Proxy]   F --&gt;|Alt Target| I[Proxmox VM + NFS]   G --&gt;|Smoke Tests| J[Health Checks]</p>"},{"location":"#projects","title":"\ud83d\udcc1 Projects","text":"<ul> <li>\ud83c\udfd7\ufe0f Terraform Infrastructure</li> <li>\ud83e\udd16 Ansible Automation</li> <li>\ud83d\udc33 Docker Reverse Proxy</li> <li>\ud83d\udef0\ufe0f End-to-end DevOps CI/CD Lab</li> </ul>"},{"location":"#about-this-lab","title":"\ud83c\udfaf About This Lab","text":"<p>This homelab is built to simulate real-world DevOps:</p> <p>\u2705 Git-based workflows \u2705 CI pipelines &amp; automated linting \u2705 Terraform infrastructure provisioning \u2705 Ansible configuration management \u2705 Docker applications behind a reverse proxy  </p> <p>Goal: Operate like a production infrastructure in a home lab environment.</p>"},{"location":"README-site-notes/","title":"Docs","text":"<p>Planned diagram of workflow (Terraform \u2192 Ansible \u2192 Docker \u2192 CI).</p>"},{"location":"ansible/","title":"Ansible Automation","text":"<p>My homelab uses Ansible to automatically configure and deploy workloads across:</p> <ul> <li>\ud83c\udfe0 Proxmox VMs (Docker nodes, NGINX proxy, Wazuh, PBS)</li> <li>\u2601\ufe0f AWS EC2 instances (created via Terraform)</li> <li>\ud83d\uddc3\ufe0f 45Drives NFS storage</li> <li>\ud83d\udd10 Security services (hardening, users, SSH, fail2ban)</li> <li>\ud83d\udce6 Application stack (Docker containers, monitoring, reverse proxy)</li> </ul> <p>This ensures consistent, repeatable infrastructure both at home and in the cloud.</p>"},{"location":"ansible/#end-to-end-automation-flow","title":"\ud83d\ude80 End-to-End Automation Flow","text":"<pre><code>flowchart LR\n  Git[Developer Commit] --&gt; CI[CI Pipeline: lint/validate/test]\n  CI --&gt; Terraform[Terraform Apply]\n  Terraform --&gt; Inventory[Generate Dynamic Inventory]\n  Inventory --&gt; Ansible[Run Ansible Playbooks]\n  Ansible --&gt; Deploy[Deploy Apps &amp; Config]\n  Deploy --&gt; Health[Smoke Tests / Health Checks]</code></pre>"},{"location":"ansible/#example-inventory","title":"\ud83d\udccb Example Inventory","text":"<pre><code>[proxmox]\ndockenode1 ansible_host=192.168.1.201\ndockenode2 ansible_host=192.168.1.202\nwazuh ansible_host=192.168.1.203\nproxy ansible_host=192.168.1.204\npbs ansible_host=192.168.1.205\n\n[aws]\naws-prod ansible_host=54.123.45.67\n</code></pre>"},{"location":"ansible/#example-playbook","title":"\ud83d\udcdd Example Playbook","text":"<pre><code>- name: Base configuration\n  hosts: all\n  become: yes\n\n  roles:\n    - common      # users, system settings\n    - security    # firewall, fail2ban, ssh hardening\n    - docker      # docker + compose install\n</code></pre>"},{"location":"ansible/#ansible-execution-screenshot","title":"\u2705 Ansible Execution Screenshot","text":"<p>Below is a real run of my Ansible playbook against my homelab VMs:</p> <p></p>"},{"location":"ansible/#ansible-workflow-diagram","title":"\ud83d\udd27 Ansible Workflow Diagram","text":"<pre><code>flowchart LR\n  GH[Git Push to GitHub] --&gt; CI[CI Pipeline]\n  CI --&gt; Lint[Lint + Security Scan]\n  CI --&gt; Deploy[Run Ansible Playbook]\n  Deploy --&gt; Proxmox[Configure Proxmox VMs]\n  Deploy --&gt; AWS[Configure AWS EC2 Instance]\n  Proxmox --&gt; Services[Deploy Homelab Services]\n  AWS --&gt; Services\n  Services --&gt; Smoke[Smoke Tests / Health Checks]</code></pre>"},{"location":"ansible/#example-inventory-production","title":"\ud83d\udccb Example Inventory (Production)","text":"<pre><code>[proxmox]\n192.xxx.x.xxx\n192.xxx.x.xxx\n\n[aws]\n3.89.xx.xx\n</code></pre>"},{"location":"ansible/#demo-playbook-example","title":"\ud83d\udcdd Demo Playbook Example","text":"<pre><code>- name: Homelab Automation Demo\n  hosts: all\n  become: true\n\n  tasks:\n    - name: Ping test\n      ping:\n\n    - name: Ensure NGINX installed (example)\n      apt:\n        name: nginx\n        state: present\n      when: ansible_os_family == \"Debian\"\n</code></pre>"},{"location":"architecture/","title":"Architecture","text":"<pre><code>flowchart LR\n  Dev[Developer] --&gt;|Git push| CI[GitHub Actions/Jenkins]\n  CI --&gt; Lint[pre-commit TFLint Checkov Hadolint ansible-lint]\n  CI --&gt; Plan[Terraform Plan] --&gt; Gate[Manual Approve] --&gt; Apply[Terraform Apply]\n  Apply --&gt; AWS[AWS EC2]\n  Apply --&gt; Proxmox[Proxmox VM]\n  Proxmox --&gt; NFS[45Drives NFS]\n  AWS --&gt; Ansible[Ansible Configure]\n  Proxmox --&gt; Ansible\n  Ansible --&gt; Proxy[Reverse Proxy Docker]\n  Proxy --&gt; Smoke[Health/Smoke]</code></pre>"},{"location":"architecture/#proxmox-virtualization-layer","title":"Proxmox Virtualization Layer","text":"<p>This node runs my core homelab workloads: Docker nodes, Nginx reverse proxy, Wazuh, an Ubuntu admin VM, NFS mount (45Drives), and Proxmox Backup Server (PBS).</p>"},{"location":"hire-me/","title":"Hire Me","text":"<p>Stephon \u201cSkip\u201d Skipper \u2014 Linux/DevOps Engineer</p> <ul> <li>3+ yrs Linux sysadmin \u00b7 IaC (Terraform/Ansible) \u00b7 CI/CD (Jenkins/GitHub Actions)  </li> <li>Homelab: Proxmox cluster, NFS, Docker, Wazuh, Grafana</li> <li>Focus: security baselines, automation, reliability</li> </ul> <p>Highlights - Zero-SSH EC2 (IMDSv2, encrypted volumes, SSM access only) - Automated IaC scans (TFLint, Checkov, Hadolint, ansible-lint) - Live docs and reproducible demos</p> <p>Contact - GitHub: iso-st3ph - Email: stephon@ayoskip.info </p>"},{"location":"monitoring/","title":"Monitoring &amp; Observability","text":""},{"location":"monitoring/#overview","title":"Overview","text":"<p>This homelab includes a production-grade monitoring stack based on Prometheus and Grafana, providing real-time metrics, dashboards, and alerting capabilities for infrastructure observability.</p>"},{"location":"monitoring/#stack-components","title":"Stack Components","text":""},{"location":"monitoring/#prometheus","title":"Prometheus","text":"<ul> <li>Time-series database for metrics collection</li> <li>Scrapes metrics from multiple exporters every 15 seconds</li> <li>15-day data retention</li> <li>HTTP API for querying metrics</li> </ul>"},{"location":"monitoring/#grafana","title":"Grafana","text":"<ul> <li>Visualization platform for metrics dashboards</li> <li>Pre-configured Prometheus datasource</li> <li>Auto-provisioned dashboards</li> <li>Dark theme by default</li> </ul>"},{"location":"monitoring/#node-exporter","title":"Node Exporter","text":"<ul> <li>Exports host system metrics: CPU, memory, disk I/O, network</li> <li>Runs in host network mode for accurate data collection</li> </ul>"},{"location":"monitoring/#cadvisor","title":"cAdvisor","text":"<ul> <li>Container metrics for Docker</li> <li>Resource usage, performance characteristics, and running containers</li> <li>Built-in web UI</li> </ul>"},{"location":"monitoring/#quick-start","title":"Quick Start","text":"<pre><code># From repo root\nmake mon-up\n\n# Access services\n# Grafana:       http://localhost:3000\n# Prometheus:    http://localhost:9090\n# cAdvisor:      http://localhost:8080\n</code></pre> <p>Default Grafana credentials: <code>admin</code> / <code>changeme-please</code> (configure in <code>.env</code>)</p>"},{"location":"monitoring/#architecture","title":"Architecture","text":"<pre><code>graph TB\n    subgraph \"Monitoring Stack\"\n        G[Grafana&lt;br/&gt;:3000]\n        P[Prometheus&lt;br/&gt;:9090]\n        NE[Node Exporter&lt;br/&gt;:9100]\n        CA[cAdvisor&lt;br/&gt;:8080]\n    end\n\n    subgraph \"Data Sources\"\n        Host[Host System&lt;br/&gt;CPU, RAM, Disk]\n        Docker[Docker&lt;br/&gt;Containers]\n    end\n\n    Host --&gt;|metrics| NE\n    Docker --&gt;|metrics| CA\n    NE --&gt;|scrape| P\n    CA --&gt;|scrape| P\n    P --&gt;|self-monitor| P\n    P --&gt;|query| G\n\n    style G fill:#f96,stroke:#333,stroke-width:2px\n    style P fill:#e94,stroke:#333,stroke-width:2px</code></pre>"},{"location":"monitoring/#configuration","title":"Configuration","text":""},{"location":"monitoring/#environment-variables","title":"Environment Variables","text":"<p>Create <code>.env</code> from <code>.env.example</code>:</p> <pre><code>cd docker/monitoring-stack\ncp .env.example .env\n</code></pre> <p>Key variables: - <code>GF_SECURITY_ADMIN_PASSWORD</code> - Grafana admin password (required) - <code>GRAFANA_PORT</code> - Grafana web port (default: 3000) - <code>PROMETHEUS_PORT</code> - Prometheus web port (default: 9090)</p>"},{"location":"monitoring/#prometheus-scrape-targets","title":"Prometheus Scrape Targets","text":"<p>Edit <code>prometheus/prometheus.yml</code> to add new scrape targets:</p> <pre><code>scrape_configs:\n  - job_name: my_service\n    static_configs:\n      - targets: [\"service:port\"]\n</code></pre> <p>Reload configuration: <pre><code>curl -X POST http://localhost:9090/-/reload\n</code></pre></p>"},{"location":"monitoring/#adding-grafana-dashboards","title":"Adding Grafana Dashboards","text":"<ol> <li>Manual import via Grafana UI:</li> <li>Navigate to Dashboards \u2192 Import</li> <li>Enter dashboard ID from grafana.com/dashboards</li> <li> <p>Select Prometheus datasource</p> </li> <li> <p>Auto-provision (recommended):    <pre><code># Download dashboard JSON\ncurl -o grafana/provisioning/dashboards/node-exporter-full.json \\\n  https://grafana.com/api/dashboards/1860/revisions/latest/download\n\n# Restart Grafana\ndocker compose restart grafana\n</code></pre></p> </li> </ol> <p>Recommended dashboards: - Node Exporter Full - System metrics - Docker &amp; System Monitoring - Container metrics - cAdvisor - Container resource usage</p>"},{"location":"monitoring/#monitoring-your-infrastructure","title":"Monitoring Your Infrastructure","text":""},{"location":"monitoring/#viewing-metrics","title":"Viewing Metrics","text":"<p>Prometheus Expression Browser: - Navigate to http://localhost:9090 - Use PromQL to query metrics:   <pre><code># CPU usage\nrate(node_cpu_seconds_total{mode=\"idle\"}[5m])\n\n# Memory usage\nnode_memory_MemAvailable_bytes / node_memory_MemTotal_bytes\n\n# Container CPU usage\nrate(container_cpu_usage_seconds_total[5m])\n</code></pre></p> <p>Grafana Dashboards: - Navigate to http://localhost:3000 - Explore \u2192 Dashboards - View pre-configured or imported dashboards</p>"},{"location":"monitoring/#setting-up-alerts","title":"Setting Up Alerts","text":"<p>Prometheus alert rules can be added in <code>prometheus/alert_rules.yml</code>:</p> <pre><code>groups:\n  - name: system_alerts\n    interval: 30s\n    rules:\n      - alert: HighCPUUsage\n        expr: 100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100) &gt; 80\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High CPU usage detected\"\n</code></pre>"},{"location":"monitoring/#cicd-integration","title":"CI/CD Integration","text":"<p>The monitoring stack includes automated validation in GitHub Actions:</p> <pre><code>docker_compose:\n  runs-on: ubuntu-latest\n  steps:\n    - uses: actions/checkout@v4\n    - name: Validate monitoring docker-compose\n      run: docker compose -f docker/monitoring-stack/docker-compose.yml config\n</code></pre> <p>This ensures: - \u2705 Docker Compose syntax is valid - \u2705 Service definitions are correct - \u2705 Volume and network configurations are valid</p>"},{"location":"monitoring/#operations","title":"Operations","text":""},{"location":"monitoring/#startingstopping","title":"Starting/Stopping","text":"<pre><code># Start\nmake mon-up\n\n# Stop\nmake mon-down\n\n# View logs\nmake mon-logs\n</code></pre>"},{"location":"monitoring/#backup-restore","title":"Backup &amp; Restore","text":"<p>Backup Prometheus data: <pre><code>docker run --rm -v monitoring-stack_prometheus_data:/data \\\n  -v $(pwd):/backup alpine tar czf /backup/prometheus-backup.tar.gz -C /data .\n</code></pre></p> <p>Backup Grafana dashboards: <pre><code>docker run --rm -v monitoring-stack_grafana_data:/data \\\n  -v $(pwd):/backup alpine tar czf /backup/grafana-backup.tar.gz -C /data .\n</code></pre></p> <p>Restore: <pre><code>docker run --rm -v monitoring-stack_prometheus_data:/data \\\n  -v $(pwd):/backup alpine tar xzf /backup/prometheus-backup.tar.gz -C /data\n</code></pre></p>"},{"location":"monitoring/#troubleshooting","title":"Troubleshooting","text":"<p>Check service health: <pre><code>docker compose ps\n</code></pre></p> <p>View logs: <pre><code># All services\nmake mon-logs\n\n# Specific service\ndocker compose logs -f prometheus\n</code></pre></p> <p>Verify Prometheus targets: - Navigate to http://localhost:9090/targets - All targets should show \"UP\" status</p> <p>Reset all data: <pre><code>make mon-down\ndocker volume rm monitoring-stack_prometheus_data monitoring-stack_grafana_data\nmake mon-up\n</code></pre></p>"},{"location":"monitoring/#network-security","title":"Network Security","text":""},{"location":"monitoring/#firewall-configuration","title":"Firewall Configuration","text":"<p>If accessing from remote machines (Fedora/RHEL):</p> <pre><code>sudo firewall-cmd --add-port=3000/tcp --permanent  # Grafana\nsudo firewall-cmd --add-port=9090/tcp --permanent  # Prometheus\nsudo firewall-cmd --reload\n</code></pre>"},{"location":"monitoring/#production-considerations","title":"Production Considerations","text":"<p>For production deployments:</p> <ol> <li>Use HTTPS: Place Nginx reverse proxy in front</li> <li>Authentication: Enable Grafana LDAP/OAuth</li> <li>Network isolation: Use Docker networks properly</li> <li>Secrets management: Use Docker secrets instead of <code>.env</code></li> <li>Persistent storage: Use bind mounts with backup strategy</li> <li>Alerting: Configure Alertmanager for notifications</li> </ol>"},{"location":"monitoring/#extending-the-stack","title":"Extending the Stack","text":""},{"location":"monitoring/#adding-remote-targets","title":"Adding Remote Targets","text":"<p>To monitor remote hosts, install Node Exporter as a systemd service:</p> <pre><code># See ansible/roles/monitoring role (future addition)\n# Will deploy node_exporter to remote hosts via Ansible\n</code></pre>"},{"location":"monitoring/#integration-with-other-services","title":"Integration with Other Services","text":"<p>Add scrape configs for: - Nginx: nginx-prometheus-exporter - PostgreSQL: postgres_exporter - Redis: redis_exporter - Custom apps: Prometheus client libraries</p> <p>Example: <pre><code>scrape_configs:\n  - job_name: nginx\n    static_configs:\n      - targets: [\"nginx-exporter:9113\"]\n</code></pre></p>"},{"location":"monitoring/#references","title":"References","text":"<ul> <li>Prometheus Documentation</li> <li>Grafana Documentation</li> <li>Node Exporter</li> <li>cAdvisor</li> <li>PromQL Basics</li> </ul>"},{"location":"monitoring/#next-steps","title":"Next Steps","text":"<ul> <li> Import pre-built Grafana dashboards</li> <li> Set up Prometheus alert rules</li> <li> Deploy node_exporter to remote hosts via Ansible</li> <li> Configure Nginx reverse proxy with SSL</li> <li> Set up Alertmanager for notifications</li> </ul>"},{"location":"pipelines/","title":"Pipelines","text":"<p>Flow: lint \u2192 plan \u2192 approve \u2192 apply \u2192 configure \u2192 smoke</p> <ul> <li>Lint: pre-commit (TFLint, Checkov, Ansible-lint, Hadolint)</li> <li>Plan/Apply: Terraform with remote backend (planned)</li> <li>Configure: Ansible targets AWS/Proxmox from TF outputs</li> <li>Deploy: Reverse proxy + sample app</li> <li>Smoke: curl healthchecks (non-200 fails the job)</li> </ul>"},{"location":"projects/","title":"Projects","text":""},{"location":"projects/#quick-links","title":"\ud83d\udc47 Quick links","text":"<ul> <li>Terraform Module: <code>terraform/modules/ec2_minimal/</code></li> <li>AWS Example: <code>terraform/aws-ec2/</code></li> <li>Ansible Role: <code>ansible/roles/secure/</code></li> <li>Reverse Proxy Demo: <code>docker/reverse-proxy/</code></li> </ul>"},{"location":"projects/#terraform-ec2-minimal","title":"Terraform: EC2 minimal","text":"<p>What it does</p> <ul> <li>IMDSv2 required, EBS optimized, encrypted root volume  </li> <li>Optional SSM instance profile (zero-SSH)  </li> <li>Outputs public IP / instance ID</li> </ul> <p>Try it</p> <p>cd terraform/aws-ec2 terraform init -backend=false terraform plan -var key_name=MY_KEY</p>"},{"location":"reverse-proxy/","title":"Docker &amp; Reverse Proxy","text":"<p>This repository includes a lightweight container platform running internal services behind a reverse proxy.</p>"},{"location":"reverse-proxy/#core-components","title":"\u2705 Core Components","text":"Component Purpose Docker Engine / Compose Container runtime &amp; orchestration Nginx Reverse Proxy Front door to services whoami test service Demo backend to validate routing Health checks Validate uptime + internal routing"},{"location":"reverse-proxy/#folder-structure","title":"\ud83e\uddf1 Folder Structure","text":"<p>```bash docker/reverse-proxy/ \u251c\u2500 docker-compose.yml \u2514\u2500 nginx/    \u2514\u2500 conf.d/       \u2514\u2500 whoami.conf</p> <p>flowchart LR User[Client] --&gt; Proxy[Nginx Reverse Proxy] Proxy --&gt; whoami[Test Container] Proxy --&gt; OtherApps[Future Apps (Grafana, Wazuh, etc)]</p> <p>\ud83d\udd10 Reverse Proxy Config (Nginx) server {   listen 80;   server_name _;</p> <p>location / {     proxy_pass http://whoami:80;     proxy_set_header Host $host;     proxy_set_header X-Real-IP $remote_addr;     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;     proxy_set_header X-Forwarded-Proto $scheme;   } }</p> <p>\ud83d\ude80 Deployment</p> <p>cd docker/reverse-proxy docker-compose up -d</p> <p>\ud83e\uddea Smoke Test</p> <p>curl -sI http://localhost:8080 | head -n 1 curl http://localhost:8080</p> <p>\u2705 Live Proof</p> <p>See docs/images/ for screenshot</p>"},{"location":"terraform/","title":"Terraform Infrastructure","text":"<p>This repo provisions compute both in AWS and Proxmox.</p>"},{"location":"terraform/#components-managed","title":"\u2705 Components Managed","text":"Platform Resources Notes AWS EC2 Instance, networking Terraform Cloud-Init + Ansible bootstrap Proxmox VMs provisioned via Terraform provider Integrates with local homelab"},{"location":"terraform/#folder-structure","title":"\ud83d\uddc2\ufe0f Folder Structure","text":"<p>```bash terraform/ \u251c\u2500 aws-ec2/ \u2502  \u251c\u2500 main.tf \u2502  \u251c\u2500 variables.tf \u2502  \u251c\u2500 outputs.tf \u2502  \u2514\u2500 tests/ \u2514\u2500 modules/    \u2514\u2500 ec2_minimal/       \u251c\u2500 main.tf       \u251c\u2500 variables.tf       \u251c\u2500 outputs.tf       \u2514\u2500 tests/</p> <p>Apply complete! Resources: 2 added, 0 changed, 0 destroyed.</p> <p>Outputs: public_ip = \"X.X.X.X\" instance_id = \"i-abc123\"</p> Feature Status IMDSv2 enforced \u2705 EBS encrypted \u2705 Checkov clean \u2705 No hard-coded creds \u2705 SSM IAM role optional \u2705 <p><code>mermaid flowchart LR Dev --&gt; GitHub GitHub --&gt; CI[Terraform CI Checks] CI --&gt; Plan[terraform plan] Plan --&gt; Gate[Manual Approval] Gate --&gt; Apply[terraform apply] Apply --&gt; AWS[(AWS EC2)] Apply --&gt; Proxmox[(Proxmox VM)]</code>mermaid</p>"}]}